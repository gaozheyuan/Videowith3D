window.require=function(e,r){var n=require.resolve(e,r||"/"),i=require.modules[n]||require.initModule(n);if(!i)throw new Error("Failed to resolve module "+e+", tried "+n);return i._cached?i._cached:i()},require.paths=[],require.modules={},require._core={events:!0,path:!0,vm:!0},require.resolve=function(e,r){function n(){for(var e,r=0;e=arguments[r];++r)if(require.modules[e])return e}if(r||(r="/"),require._core[e])return e;var i=require.modules.path(),t=i.extname(e);t&&(e=e.substring(0,e.length-t.length)),e="/"===e.charAt(0)?i.resolve(r,e.substring(1)):e,e=e.match(/^(?:\.\.?\/)/)?i.resolve(r,e):e;var o=n(e,i.join(e,"index"));if(o)return o;throw new Error("Cannot find module '"+e+"' within '"+r+"'")},require.alias=function(e,r){var n=require.modules.path(),i=null;try{i=require.resolve(e+"/package.json","/")}catch(t){i=require.resolve(e,"/")}for(var o=n.dirname(i),u=(Object.keys||function(e){var r=[];for(var n in e)r.push(n);return r})(require.modules),s=0;s<u.length;s++){var c=u[s];if(c.slice(0,o.length+1)===o+"/"){var a=c.slice(o.length);require.modules[r+a]=require.modules[o+a]}else c===o&&(require.modules[r]=require.modules[o])}},require.define=function(e,r){var n=require._core[e]?"":require.modules.path().dirname(e),i=function(e){return require(e,n)};i.resolve=function(e){return require.resolve(e,n)},i.modules=require.modules,i.define=require.define;var t={exports:{}};require.modules[e]=function(){return require.modules[e]._cached=t.exports,r.call(t.exports,i,t,t.exports,n,e),require.modules[e]._cached=t.exports,t.exports}},"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(){var e=[],r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return r&&window.addEventListener("message",function(r){if(r.source===window&&"browserify-tick"===r.data&&(r.stopPropagation(),e.length>0)){var n=e.shift();n()}},!0),function(n){r?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if("evals"===e)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(e,r,n){function i(e,r){for(var n=[],i=0;i<e.length;i++)r(e[i],i,e)&&n.push(e[i]);return n}function t(e,r){for(var n=0,i=e.length;i>=0;i--){var t=e[i];"."==t?e.splice(i,1):".."===t?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(r)for(;n--;n)e.unshift("..");return e}var o=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var e="",r=!1,n=arguments.length;n>=-1&&!r;n--){var o=n>=0?arguments[n]:process.cwd();"string"==typeof o&&o&&(e=o+"/"+e,r="/"===o.charAt(0))}return e=e.replace(/\/\.\//,"/"),e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+e||"."},n.normalize=function(e){var r="/"===e.charAt(0),n="/"===e.slice(-1);return e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e){return e&&"string"==typeof e}).join("/"))},n.dirname=function(e){var r=o.exec(e)[1]||"";return r?"/"===r?r:r.substring(0,r.length-1):"."},n.basename=function(e,r){var n=o.exec(e)[2]||"";return r&&n.substr(-1*r.length)===r&&(n=n.substr(0,n.length-r.length)),n},n.extname=function(e){return o.exec(e)[3]||""}});
var Hogan={};!function(e,r){function t(e){return String(null===e||void 0===e?"":e)}function n(e){return e=t(e),l.test(e)?e.replace(i,"&amp;").replace(o,"&lt;").replace(u,"&gt;").replace(s,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,n,i){this.r=e||this.r,this.c=n,this.options=i,this.text=t||"",this.buf=r?[]:""},e.Template.prototype={r:function(e,r,t){return""},v:n,t:t,render:function(e,r,t){return this.ri([e],r||{},t)},ri:function(e,r,t){return this.r(e,r,t)},rp:function(e,r,t,n){var i=t[e];return i?(this.c&&"string"==typeof i&&(i=this.c.compile(i,this.options)),i.ri(r,t,n)):""},rs:function(e,r,t){var n=e[e.length-1];if(!f(n))return void t(e,r,this);for(var i=0;i<n.length;i++)e.push(n[i]),t(e,r,this),e.pop()},s:function(e,r,t,n,i,o,u){var s;return f(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,r,t,n,i,o,u)),s=""===e||!!e,!n&&s&&r&&r.push("object"==typeof e?e:r[r.length-1]),s)},d:function(e,r,t,n){var i=e.split("."),o=this.f(i[0],r,t,n),u=null;if("."===e&&f(r[r.length-2]))return r[r.length-1];for(var s=1;s<i.length;s++)o&&"object"==typeof o&&i[s]in o?(u=o,o=o[i[s]]):o="";return n&&!o?!1:(n||"function"!=typeof o||(r.push(u),o=this.lv(o,r,t),r.pop()),o)},f:function(e,r,t,n){for(var i=!1,o=null,u=!1,s=r.length-1;s>=0;s--)if(o=r[s],o&&"object"==typeof o&&e in o){i=o[e],u=!0;break}return u?(n||"function"!=typeof i||(i=this.lv(i,r,t)),i):n?!1:""},ho:function(e,r,t,n,i){var o=this.c,u=e.call(r,n,function(e){return o.compile(e,{delimiters:i}).render(r,t)});return this.b(o.compile(u.toString(),{delimiters:i}).render(r,t)),!1},b:r?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:r?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,r,t,n,i,o,u){var s=r[r.length-1],c=null;if(!n&&this.c&&e.length>0)return this.ho(e,s,t,this.text.substring(i,o),u);if(c=e.call(s),"function"==typeof c){if(n)return!0;if(this.c)return this.ho(c,s,t,this.text.substring(i,o),u)}return c},lv:function(e,r,t){var n=r[r.length-1],i=e.call(n);return"function"==typeof i&&(i=i.call(n)),i=i.toString(),this.c&&~i.indexOf("{{")?this.c.compile(i).render(n,t):i}};var i=/&/g,o=/</g,u=/>/g,s=/\'/g,c=/\"/g,l=/[&<>\"\']/,f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan);
require.define("eventemitter2",function(e,t,r,n,i){!function(e,t){function r(){this._events=new Object}function n(e){e&&(this.wildcard=e.wildcard,this.delimiter=e.delimiter||".",this.wildcard&&(this.listenerTree=new Object))}function i(e){this._events=new Object,n.call(this,e)}function s(e,t,r,n){if(r){var i;if(n===t.length&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),r;for(var o=0,l=r._listeners.length;l>o;o++)e&&e.push(r._listeners[o]);return r}if("*"===t[n]||r[t[n]]){if("*"===t[n]){for(var u in r)"_listeners"!==u&&r.hasOwnProperty(u)&&(i=s(e,t,r[u],n+1));return i}i=s(e,t,r[t[n]],n+1)}return r["*"]&&s(e,t,r["*"],n+1),i}}function o(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var r=this.listenerTree,n=e.shift();n;){if(r[n]||(r[n]=new Object),r=r[n],0===e.length){if(r._listeners){if("function"==typeof r._listeners)r._listeners=[r._listeners,t];else if(l(r._listeners)&&(r._listeners.push(t),!r._listeners.warned)){var i=u;i>0&&r._listeners.length>i&&(r._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",r._listeners.length),console.trace())}}else r._listeners=t;return!0}n=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=10;i.prototype.setMaxListeners=function(e){this._events||r.call(this),this._events.maxListeners=e},i.prototype.event="",i.prototype.once=function(e,t){return this.many(e,1,t),this},i.prototype.many=function(e,t,r){function n(){0===--t&&i.off(e,n),r.apply(null,arguments)}var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");return n._origin=r,this.on(e,n),i},i.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._events.newListener)return!1;if(this._all){for(var t=arguments.length,n=new Array(t-1),i=1;t>i;i++)n[i-1]=arguments[i];for(i=0,t=this._all.length;t>i;i++)this.event=e,this._all[i].apply(this,n)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var o;if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();s.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o){if(this.event=e,1===arguments.length)o.call(this);else if(arguments.length>1)switch(arguments.length){case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(var t=arguments.length,n=new Array(t-1),i=1;t>i;i++)n[i-1]=arguments[i];o.apply(this,n)}return!0}if(o){for(var t=arguments.length,n=new Array(t-1),i=1;t>i;i++)n[i-1]=arguments[i];for(var u=o.slice(),i=0,t=u.length;t>i;i++)this.event=e,u[i].apply(this,n);return!0}},i.prototype.on=function(e,n){if(this._events||r.call(this),this.emit("newListener",e,n),this.wildcard)return o.call(this,e,n),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],n];else if(l(this._events[e])&&(this._events[e].push(n),!this._events[e].warned)){var i;i=this._events.maxListeners!==t?this._events.maxListeners:u,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=n;return this},i.prototype.onAny=function(e){if(this._all||(this._all=[]),"function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all.push(e),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r;if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice(),i=s.call(this,null,n,this.listenerTree,0);if("undefined"==typeof i)return this;r=i._listeners}else{if(!this._events[e])return this;r=this._events[e]}if(l(r)){for(var o=-1,u=0,h=r.length;h>u;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){o=u;break}if(0>o)return this;this.wildcard?i._listeners.splice(o,1):this._events[e].splice(o,1),0===r.length&&(this.wildcard?delete i._listeners:delete this._events[e])}else(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete i._listeners:delete this._events[e]);return this},i.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(t=this._all,r=0,n=t.length;n>r;r++)if(e===t[r])return t.splice(r,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||r.call(this),this;if(this.wildcard){var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=s.call(this,null,t,this.listenerTree,0);if("undefined"==typeof n)return this;n._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},i.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return s.call(this,t,n,this.listenerTree,0),t}return this._events||r.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.prototype.listenersAny=function(){return this._all?this._all:[]},e.EventEmitter2=i}("undefined"==typeof r?window:r)});
require.define("socketstream",function(e,t,r,n,i){"use strict";var s,o,l,u,a;s=e("eventemitter2").EventEmitter2,u=r.server=new s,l=r.message=new s,r.tmpl={},a=null,r.assignTransport=function(t){return a=e("socketstream-transport")(u,l,t),a.send=a.connect(),a.send},r.registerApi=function(e,t){var n;return n=r[e],n?console.error("SocketStream Error: Unable to register the 'ss."+e+"' responder as this name has already been taken"):(r[e]=t,r[e])},r.send=function(e){return function(t){return a.send(e+"|"+t)}},o={loaded:{},loading:new s},r.load={code:function(e,t){var r,n,i;return e&&"/"===e.substr(0,1)&&(e=e.substr(1)),r="SocketStream Error: The ss.load.code() command ",jQuery?e?t?o.loaded[e]?t():(o.loading.once(e,t),1===o.loading.listeners(e).length?(n=function(){return console.error("SocketStream Error: Could not asynchronously load "+e),console.log(arguments)},i=function(){return o.loaded[e]=!0,o.loading.emit(e)},$.ajax({url:"/_serve/code?"+e,type:"GET",cache:!1,dataType:"script",success:i,error:n})):void 0):console.error(r+"requires a callback. Specify it as the last argument"):console.error(r+"requires a directory to load. Specify it as the first argument. E.g. The ss.load.code('/mail',cb) will load code in /client/code/mail"):console.error(r+"requires jQuery to be present")},worker:function(e){return new Worker("/_serve/worker?"+e)}},u.on("__ss:reload",function(){return window.location.reload()}),u.on("__ss:updateCSS",function(){var e,t,r,n,i;for(i=document.getElementsByTagName("link"),r=0,n=i.length;n>r;r++)t=i[r],t.rel.toLowerCase().indexOf("stylesheet")>=0&&t.href&&(e=t.href.replace(/(&|%5C?)\d+/,""),t.href=e+(e.indexOf("?")>=0?"&":"?")+(new Date).valueOf());return console.log("CSS updated")})});
require.define("events-responder",function(e,t,r,n,i){"use strict";var s,o;s=e("eventemitter2").EventEmitter2,o=e("socketstream"),t.exports=function(e,t,r){var n;return n=new s,o.registerApi("event",n),o.message.on(e,function(e,t){var r,i,s;return s=JSON.parse(e),r=[s.e],r=r.concat(s.p),null!=t&&r.push(t),i=s.e&&"__ss:"===s.e.substr(0,5)&&o.server||n,i.emit.apply(i,r)})}});
require.define("socketstream-rpc",function(e,t,r,n,i){"use strict";var s,o,l,u;u=e("socketstream"),l=0,s={},o=function(e){return console.log(e)},t.exports=function(e,t,r){return u.registerApi("rpc",function(){var e,t,n,i,u;return e=Array.prototype.slice.call(arguments),u={},u.m=e[0],u.id=++l,n=e[e.length-1],"function"==typeof n?(u.p=e.slice(1,e.length-1),t=n):(u.p=e.slice(1),t=o),s[u.id]=t,i=JSON.stringify(u),void r(i)}),u.message.on(e,function(e){var t,r;return r=JSON.parse(e),r.id&&(t=s[r.id])?(r.e?console.error("SocketStream RPC server error:",r.e.message):t.apply(t,r.p),delete s[r.id]):void 0})}});